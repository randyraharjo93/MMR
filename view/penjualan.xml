<openerp>
	<data>
		
		-----------PenjualanPO----------
		<record id="mmr_penjualanpo_list" model="ir.ui.view">
			<field name="name">mmr.penjualanpo.list</field>
			<field name="model">mmr.penjualanpo</field>
			<field name="arch" type="xml">
				<tree string="Penjualan PO" version="7.0" colors="red:((status!='Valid, Penyetuju Lengkap' and status!='Batal') or (statussj!='Barang Lengkap Dikirim') or (statusfaktur!='Faktur lengkap' and statusfaktur!='Tanpa Faktur') or (statuspembayaran!='Lunas'))" default_order="tanggal desc">
					<field name="status" />
					<field name="statussj"/>
					<field name="statusfaktur" groups="MMR.akunting"/>
					<field name="statuspembayaran" groups="MMR.akunting"/>
					<field name="tanggal" />
					<field name="customer" />
					<field name="rayon" />
					<field name="nomorpo" />
					<field name="tanggaldijanjikan" />
					<field name="sales" />
					<field name="disetujui" string="Validitas" invisible="1"/>
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualanpo_form" model="ir.ui.view">
			<field name="name">mmr.penjualanpo.form</field>
			<field name="model">mmr.penjualanpo</field>
			<field name="arch" type="xml">
				<form string="Penjualan PO" version="7.0" >
					<header>
						<button name="setujuadmin" string="Setuju Admin" type="object" groups="MMR.admin" attrs="{'invisible':['|',('dibatalkan','!=',False),('disetujuiadmin','!=',False)]}" class="oe_read_only oe_highlight"/>
						<button name="setujusales" string="Setuju Sales" type="object" attrs="{'invisible':['|','|',('dibatalkan','!=',False),('disetujuisales','!=',False),('tukarbarang','!=',False)]}" class="oe_read_only oe_highlight"/>
						<button name="setujusupervisor" string="Setuju Supervisor" type="object" groups="MMR.kepalasales" attrs="{'invisible':['|','|',('dibatalkan','!=',False),('disetujuisupervisor','!=',False),('tukarbarang','!=',False)]}" class="oe_read_only oe_highlight"/>
						<button name="setujugudang" string="Setuju Gudang" type="object" groups="MMR.gudang" attrs="{'invisible':['|','|','|',('dibatalkan','!=',False),('tukarbarang','==',False),('disetujuisupervisor','!=',False)]}" class="oe_read_only oe_highlight"/>
						<button name="revisi" string="Revisi" type="object" groups="MMR.otoritas" attrs="{'invisible':['|',('dibatalkan','!=',False),('disetujui','=',False)]}" class="oe_read_only oe_highlight"/>
						<button name="buatsj" string="Input Surat Jalan" type="object" groups="MMR.admin,MMR.gudang" attrs="{'invisible':['|',('dibatalkan','!=',False),('disetujui','=',False)]}" class="oe_read_only"/>
						<button name="buatfaktur" string="Input Faktur" type="object" groups="MMR.akunting" attrs="{'invisible':['|',('dibatalkan','!=',False),('disetujui','=',False)]}" class="oe_read_only"/>
						<button name="batal" string="Batal" type="object" groups="MMR.otoritas" attrs="{'invisible':['|',('dibatalkan','!=',False),('disetujui','=',False)]}" class="oe_read_only oe_highlight"/>
					</header>
					<group>
						<group >
							<group string="Informasi Dasar">
								<field name="rayon" attrs="{'invisible':True}"/>
								<field name="kota" attrs="{'invisible':True}"/>
								<field name="nomorpo" attrs="{'readonly':[('disetujui','!=',False)]}" groups="MMR.otoritas" placeholder="Otomatis"/>
								<field name="customer" attrs="{'readonly':[('disetujui','!=',False)]}" on_change="onchange_customer(customer,tanggal,sales,tanpafaktur,tukarbarang)" options="{'no_create': True, 'no_open':True}"/>
								<field name="tanggal"  attrs="{'readonly':[('disetujui','!=',False)]}" on_change="onchange_nopo(customer,tanggal,sales,tanpafaktur,tukarbarang)" />
								<field name="syaratpembayaran"  attrs="{'readonly':[('disetujui','!=',False)]}" options="{'no_create': True, 'no_open':True}"/>
								<field name="tanggaldijanjikan"  attrs="{'readonly':[('disetujui','!=',False)]}" />
								<field name="status" />
								<field name="statussj"/>
								<field name="statusfaktur" groups="MMR.akunting"/>
								<field name="statuspembayaran" groups="MMR.akunting"/>
							</group>
							<group string="Ijin Khusus">
								<field name="hargabebas" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="tanpafaktur" attrs="{'readonly':[('disetujui','!=',False)]}" on_change="onchange_nopo(customer,tanggal,sales,tanpafaktur,tukarbarang)"/>
								<field name="bebasexpdate" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="tukarbarang" attrs="{'readonly':[('disetujui','!=',False)]}" on_change="onchange_nopo(customer,tanggal,sales,tanpafaktur,tukarbarang)"/>
								<field name="popembelian" attrs="{'readonly':[('disetujui','!=',False)], 'required':[('tukarbarang','!=',False)], 'invisible':[('tukarbarang','=',False)]}" options="{'no_create': True, 'no_open':True}"/>
							</group>
						</group>
						<group>
							<group string="Informasi Marketing">
								<field name="via"  attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="sales" options="{'no_create': True, 'no_open':True}"  attrs="{'readonly':[('disetujui','!=',False)]}" on_change="onchange_nopo(customer,tanggal,sales,tanpafaktur,tukarbarang)"/>
								<field name="nomorposales"  attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="nomorpocustomer"  attrs="{'readonly':[('disetujui','!=',False)]}"/>
							</group>
							<group string="Informasi Akunting">
								<field name="bruto" />					
								<field name="diskon"/>
								<field name="hppembelian" />
								<field name="pajak" />
								<field name="netto" />
							</group>
						</group>
					</group>	
					<notebook>
						<page string="List Produk">
							<field name="penjualanpodetil"  attrs="{'readonly':[('disetujui','!=',False)]}" context="{'default_customer': customer}"/>
						</page>	
						<page string="List Surat Jalan">
							<field name="penjualansj" attrs="{'readonly':[('disetujui','=',False)]}">
								<tree create="false">
									<field name="statusfaktur" />
									<field name="nomorsj" />
									<field name="tanggalterbit" />
									<field name="penjualansjdetil" />
									<field name="disetujui" groups="MMR.otoritas"/>
									<field name="notes" />
								</tree>
							</field>	
						</page>	
						<page string="List Faktur">
							<field name="penjualanfaktur" groups="MMR.akunting" attrs="{'readonly':[('disetujui','=',False)]}">
								<tree create="false">
									<field name="teknisi" />
									<field name="status" />
									<field name="nomorfaktur" />
									<field name="tanggalterbit" />
									<field name="bruto" />
									<field name="diskon" />
									<field name="hppembelian" />
									<field name="pajak" />
									<field name="netto" />
									<field name="totalbayar"/>
									<field name="disetujui"/>
									<field name="akunotomatis" string="Otomat?"/>
									<field name="notes" />
								</tree>
							</field>	
						</page>	
						<page string="Notes">
							<field name="notes"  attrs="{'readonly':[('disetujui','!=',False)]}"/>
						</page>	
					</notebook>
					<group groups="MMR.otoritas" string="Informasi Otoritas">
						<group>
							<field name="dibuat" />
							<field name="create_date" attrs="{'readonly':[('disetujui','!=',False)]}" string="Waktu Pembuatan"/> 
							<field name="diedit" />
							<field name="dibatalkan" attrs="{'invisible':[('dibatalkan','=',False)]}"/>
						</group>
						<group>
							<field name="disetujuiadmin" />
							<field name="waktudisetujuiadmin" />
							<field name="disetujuisales" />
							<field name="waktudisetujuisales" />
							<field name="disetujuisupervisor" />
							<field name="waktudisetujuisupervisor" />
							<field name="disetujui" string="Validitas"/>
						</group>
					</group>
				</form>
			</field>
		</record>

		<record id="mmr_penjualanpo_graph" model="ir.ui.view">
            <field name="name">mmr.penjualanpo.graph</field>
            <field name="model">mmr.penjualanpo</field>
            <field name="arch" type="xml">
                <graph string="Penjualan" type="pivot" stacked="True">
                    <field name="rayon" type="row"/>
                    <field name="netto" type="measure"/>
                </graph>
            </field>
        </record>

        <record id="mmr_penjualanpo_search" model="ir.ui.view">
			<field name="name">mmr.penjualanpo.search</field>
			<field name="model">mmr.penjualanpo</field>
			<field name="arch" type="xml">
				<search string="Penjualan PO" version="7.0">
					<field name="customer"/>
					<field name="tanggal"/>
					<field name="nomorpo"/>
					<field name="kota"/>
					<field name="rayon"/>
					<field name="sales"/>
					<group expand="1" string="Filter Proses By">
						<filter name="dalam_proses" string="Dalam Proses" help="Filter PO yang masih perlu ditindak" domain="['|','|','|',('status','!=','Valid, Penyetuju Lengkap'),('statussj','!=','Barang Lengkap Dikirim'),('statuspembayaran','!=','Lunas'),'&amp;',('statusfaktur','!=','Faktur lengkap'),('statusfaktur','!=','Tanpa Faktur')]"/>
						<filter name="selesai" string="Selesai" help="Filter PO yang sudah selesai" domain="[('status','=','Valid, Penyetuju Lengkap'),('statussj','=','Barang Lengkap Dikirim'),('statusfaktur','=','Faktur lengkap'),('statuspembayaran','=','Lunas')]"/>
					</group>
					<group expand="0" string="Filter PO By">
						<filter name="belum_valid" string="Belum Valid" help="Filter PO yang masih belum valid" domain="[('status','=','Belum Valid')]"/>
						<filter name="valid_belum_lengkap" string="Valid, Penyetuju Belum Lengkap" help="Filter PO yang sudah valid, tapi belum lengkap disetujui" domain="[('status','=','Valid, Penyetuju Belum Lengkap')]"/>
						<filter name="valid_lengkap" string="Valid, Penyetuju Lengkap" help="Filter PO yang sudah valid dan lengkap disetujui" domain="[('status','=','Valid, Penyetuju Lengkap')]"/>
						<filter name="batal" string="Batal" help="Filter PO yang batal" domain="[('status','=','Batal')]"/>
					</group>
					<group expand="0" string="Filter SJ By">
						<filter name="terlambat" string="Pengiriman Terlambat" help="Filter PO dengan SJ yang sudah terlambat." domain="[('statussj','=','Barang Terlambat')]"/>
						<filter name="belum_dikirim" string="Barang Belum Dikirim" help="Filter PO dengan SJ yang belum dikirim." domain="[('statussj','=','Barang Belum Dikirim')]"/>
						<filter name="terkirim" string="Barang terkirim" help="Filter PO dengan SJ yang sudah lengkap dikirim" domain="[('statussj','=','Barang Lengkap Dikirim')]"/>
					</group>
					<group expand="0" string="Filter Faktur By">
						<filter name="tanpa_faktur" string="Tanpa Faktur" help="Filter PO khusus(tanpa faktur)." domain="[('statusfaktur','=','Tanpa Faktur')]"/>
						<filter name="belum_sj" string="Belum ada SJ" help="Filter PO yang belum memiliki SJ." domain="[('statusfaktur','=','Belum ada SJ')]"/>
						<filter name="tidak_lengkap" string="Faktur Belum Lengkap" help="Filter PO dengan Faktur yang belum lengkap" domain="[('statusfaktur','=','Faktur tidak lengkap')]"/>
						<filter name="lengkap" string="Faktur Lengkap" help="Filter PO dengan Faktur yang sudah lengkap" domain="[('statusfaktur','=','Faktur lengkap')]"/>
					</group>
					<group expand="0" string="Filter Pembayaran By">
						<filter name="lunas" string="Lunas" help="Filter PO yang sudah lunas." domain="[('statuspembayaran','=','Lunas')]"/>
						<filter name="belum_lunas" string="Belum Lunas" help="Filter PO yang belum lunas." domain="[('statuspembayaran','!=','Lunas')]"/>
					</group>
				</search>
			</field>
		</record>
		
		-----------PenjualanPODetil----------
		<record id="mmr_penjualanpodetil_list" model="ir.ui.view">
			<field name="name">mmr.penjualanpodetil.list</field>
			<field name="model">mmr.penjualanpodetil</field>
			<field name="arch" type="xml">
				<tree string="Penjualan PO Detil" version="7.0">
					<field name="merk" />
					<field name="namaproduk" />
					<field name="satuan" />
					<field name="jumlah" />
					<field name="jumlahdikirim" />
					<field name="harga"  />
					<field name="bruto" />
					<field name="diskon" />
					<field name="hppembelian" />
					<field name="pajak" />
					<field name="netto" />
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualanpodetil_form" model="ir.ui.view">
			<field name="name">mmr.penjualanpodetil.form</field>
			<field name="model">mmr.penjualanpodetil</field>
			<field name="arch" type="xml">
				<form string="Penjualan PO Detil" version="7.0" >
					<group>
						<group string="Informasi Dasar">
							<field name="trigger" attrs="{'invisible':True}"/>
							<field name="waktu" attrs="{'invisible':True}"/>
							<field name="idpenjualanpo" attrs="{'invisible':True}"/>
							<field name="merk" options="{'no_create': True, 'no_open':True}" on_change="onchange_merk()"/>
							<field name="namaproduk" options="{'no_create': True, 'no_open':True}"/>
							<field name="satuan" />
							<field name="jumlah" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
							<field name="jumlahdikirim"/>
							<field name="pengumuman" style="color:red;font-size:11pt;font-weight: bold;"/>
						</group>
						<group string="Informasi Akunting">
							<field name="harga" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
							<field name="bruto" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>					
							<field name="diskon" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
							<field name="hppembelian" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
							<field name="pajak" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
							<field name="netto" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
						</group>
					</group>	
					<notebook>
						<page string="History">
							<field name="stokkeluar">
								<tree string="History" version="7.0" create="false" edit="false" delete="false" default_order="tanggal desc">
									<field name="idpenjualanpo" string="PO Penjualan"/>
									<field name="tanggal"/>
									<field name="jumlah"/>
									<field name="kadaluarsa"/>
									<field name="harga"/>
									<field name="diskon"/>
									<field name="pajak"/>
								</tree>
								<form string="History" version="7.0">
									<group>
										<group string="Informasi Dasar">
											<field name="idpenjualanpo" string="PO Penjualan"/>
											<field name="tanggal"/>
											<field name="jumlah"/>
											<field name="kadaluarsa"/>
										</group>
										<group string="Informasi Harga">
											<field name="harga"/>
											<field name="diskon"/>
											<field name="pajak"/>
										</group>
									</group>	
								</form>
							</field>	
						</page>	
						<page string="Notes">
							<field name="notes"/>
						</page>	
					</notebook>
				</form>
			</field>
		</record>

		<record id="mmr_penjualanpodetil_list_standalone" model="ir.ui.view">
			<field name="name">mmr.penjualanpodetil.list.standalone</field>
			<field name="model">mmr.penjualanpodetil</field>
			<field name="arch" type="xml">
				<tree string="Penjualan PO Detil" version="7.0" create="false" edit="false" default_order="waktu desc">
					<field name="idpenjualanpo" string="PO Penjualan"/>
					<field name="customerpo" />
					<field name="waktu" />
					<field name="merk" />
					<field name="namaproduk" />
					<field name="satuan" />
					<field name="jumlah" />
					<field name="jumlahdikirim" />
					<field name="harga"  />
					<field name="bruto" />
					<field name="diskon" />
					<field name="hppembelian" />
					<field name="pajak" />
					<field name="netto" />
					<field name="notes" />
				</tree>
			</field>
		</record>

		<record id="mmr_penjualanpodetil_graph" model="ir.ui.view">
            <field name="name">mmr.penjualanpodetil.graph</field>
            <field name="model">mmr.penjualanpodetil</field>
            <field name="arch" type="xml">
                <graph string="Penjualan Detil" type="pivot" stacked="True">
                </graph>
            </field>
        </record>

        <record id="mmr_penjualanpodetil_search" model="ir.ui.view">
			<field name="name">mmr.penjualanpodetil.search</field>
			<field name="model">mmr.penjualanpodetil</field>
			<field name="arch" type="xml">
				<search string="Penjualan PO Detil" version="7.0">
					<field name="idpenjualanpo"/>
					<field name="customerpo"/>
					<field name="merk"/>
					<field name="namaproduk"/>
					<field name="sales"/>
					<field name="rayon"/>
					<field name="kota"/>
					<filter name="filter_by_barang_terkirim_semua" string="Lengkap Dikirim" help="Filter barang yang telah lengkap dikirim" domain="[('terkirimsemua', '=', True)]"/>
					<filter name="filter_by_barang_belum_terkirim_semua" string="Belum Lengkap Dikirim" help="Filter barang yang belum lengkap dikirim" domain="[('terkirimsemua', '=', False)]"/>
					<group expand="1" string="Group By">
						<filter name="group_by_customer" string="Customer" help="Group By Customer" context="{'group_by':'customerpo'}"/>
						<filter name="group_by_merk" string="Merk" help="Group By Merk" context="{'group_by':'merk'}"/>
						<filter name="group_by_namaproduk" string="Produk" help="Group By Produk" context="{'group_by':'namaproduk'}"/>
					</group>
					<group expand="1" string="Group By">
						<filter name="group_by_po" string="PO Penjualan" help="Group By PO Penjualan" context="{'group_by':'idpenjualanpo'}"/>
						<filter name="group_by_sales" string="Sales" help="Group By Sales" context="{'group_by':'sales'}"/>
						<filter name="group_by_rayon" string="Rayon" help="Group By Rayon" context="{'group_by':'rayon'}"/>
					</group>
				</search>
			</field>
		</record>

		-----------PenjualanSJ----------
		<record id="mmr_penjualansj_list" model="ir.ui.view">
			<field name="name">mmr.penjualansj.list</field>
			<field name="model">mmr.penjualansj</field>
			<field name="arch" type="xml">
				<tree string="Penjualan SJ" version="7.0" colors="red:(statusfaktur=='Belum Terfaktur')">
					<field name="statusfaktur" />
					<field name="nomorsj" />
					<field name="tanggalterbit" />
					<field name="dibuat" groups="MMR.otoritas"/>
					<field name="disetujui" groups="MMR.otoritas"/>
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualansj_form" model="ir.ui.view">
			<field name="name">mmr.penjualansj.form</field>
			<field name="model">mmr.penjualansj</field>
			<field name="arch" type="xml">
				<form string="Penjualan SJ" version="7.0" >
					<header >
						<button name="setuju" class="oe_highlight oe_read_only" string="Setuju" type="object" groups="MMR.gudang" attrs="{'invisible':['|',('disetujuigudang','!=',False),('disetujui','!=',False)]}"/>
						<button name="revisi" class="oe_highlight oe_read_only" string="Revisi" type="object" groups="MMR.otoritas" attrs="{'invisible':['|',('disetujuigudang','=',False),('disetujui','!=',False)]}"/>
						<button name="%(sj_penjualan_qweb_report)d" string="Print" type="action" class="oe_read_only" attrs="{'invisible':[('disetujuigudang','=',False)]}"/>
					</header>
					<footer attrs="{'invisible':[('id','!=',False)]}">
						<button name="save" string="Save" type="object" /> or <button name="cancel" string="Cancel" special="cancel" class="oe_link"/>
					</footer>
					<group string="Informasi Dasar">
						<field name="id" attrs="{'invisible':True}"/>
						<field name="idpenjualanpo" attrs="{'invisible':True}"/>
						<field name="trigger" attrs="{'invisible':True}"/>
						<field name="nomorsj" attrs="{'readonly':True}"/>
						<field name="reservednomorsj" groups="MMR.otoritas" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						<field name="tanggalterbit" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						<field name="statusfaktur" />
					</group>
					<notebook>
						<page string="List Produk">
							<field name="penjualansjdetil" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						</page>
						<page string="List Produk Detail">
							<field name="stokkeluar" context="{'name': active_id}" attrs="{'readonly':[('disetujuigudang','!=',False)]}">
								<tree string="Stok Keluar" version="7.0">
									<field name="teknisi"/>
									<field name="merk"/>
									<field name="namaproduk"/>
									<field name="satuan"/>
									<field name="jumlah"/>
									<field name="gudang"/>
									<field name="kadaluarsa"/>
									<field name="lot"/>
									<field name="notes"/>
									<field name="idstok" groups="MMR.otoritas" attrs="{'invisible':True}" string=""/>
								</tree>
								<form string="Stok Keluar" version="7.0" >
									<group>
										<group string="Informasi Dasar">
											<field name="pilihanproduk" on_change="onchange_pilihanproduk(pilihanproduk)" groups="MMR.gudang" options="{'no_create': True, 'no_open':True}"/>									
											<field name="idstok" groups="MMR.gudang" on_change="onchange_idstok(pilihanproduk)" options="{'no_create': True, 'no_open':True}"/>
											<field name="idpenjualanpo" attrs="{'invisible':True}"/>
											<field name="merk"/>
											<field name="namaproduk"/>
											<field name="satuan"/>
											<field name="jumlah"/>
											<field name="teknisi"/>
										</group>
										<group string="Informasi Produk">
											<field name="gudang"/>
											<field name="kadaluarsa"/>
											<field name="lot"/>
										</group>
									</group>
									<notebook>
										<page string="Notes" >
											<field name="notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>		
						<page string="Notes">
							<field name="notes" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						</page>	
					</notebook>
					<group groups="MMR.otoritas" string="Informasi Otoritas">
						<group>
							<field name="dibuat" />
							<field name="create_date" attrs="{'readonly':[('disetujuigudang','!=',False)]}" string="Waktu Pembuatan"/> 
							<field name="diedit" />
						</group>
						<group>
							<field name="disetujui" />
							<field name="disetujuigudang" />
						</group>
					</group>
				</form>
			</field>
		</record>

		<record id="mmr_penjualansj_list_no_edit" model="ir.ui.view">
			<field name="name">mmr.penjualansj.list.no.edit</field>
			<field name="model">mmr.penjualansj</field>
			<field name="arch" type="xml">
				<tree string="Penjualan SJ" version="7.0" create="false" edit="false" colors="red:(statusfaktur=='Belum Terfaktur')" default_order="tanggalterbit desc">
					<field name="statusfaktur" />
					<field name="idpenjualanpo" string="Nomor PO"/>
					<field name="nomorsj" />
					<field name="tanggalterbit" />
					<field name="dibuat" groups="MMR.otoritas"/>
					<field name="disetujui" groups="MMR.otoritas"/>
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualansj_form_no_edit" model="ir.ui.view">
			<field name="name">mmr.penjualansj.form.no.edit</field>
			<field name="model">mmr.penjualansj</field>
			<field name="arch" type="xml">
				<form string="Penjualan SJ" version="7.0" create="false" edit="false">
					<group string="Informasi Dasar">
						<field name="id" attrs="{'invisible':True}"/>
						<field name="idpenjualanpo" string="Nomor PO"/>
						<field name="trigger" attrs="{'invisible':True}"/>
						<field name="nomorsj" attrs="{'readonly':True}"/>
						<field name="reservednomorsj" groups="MMR.otoritas" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						<field name="tanggalterbit" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						<field name="statusfaktur" />
					</group>
					<notebook>
						<page string="List Produk">
							<field name="penjualansjdetil" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						</page>
						<page string="List Produk Detail">
							<field name="stokkeluar" context="{'name': active_id}" attrs="{'readonly':[('disetujuigudang','!=',False)]}">
								<tree string="Stok Keluar" version="7.0">
									<field name="teknisi"/>
									<field name="merk"/>
									<field name="namaproduk"/>
									<field name="satuan"/>
									<field name="jumlah"/>
									<field name="gudang"/>
									<field name="kadaluarsa"/>
									<field name="lot"/>
									<field name="notes"/>
									<field name="idstok" groups="MMR.otoritas" attrs="{'invisible':True}" string=""/>
								</tree>
								<form string="Stok Keluar" version="7.0" >
									<group>
										<group string="Informasi Dasar">
											<field name="pilihanproduk" on_change="onchange_pilihanproduk(pilihanproduk)" groups="MMR.gudang" options="{'no_create': True, 'no_open':True}"/>
											<field name="idstok" groups="MMR.gudang" on_change="onchange_idstok(pilihanproduk)" options="{'no_create': True, 'no_open':True}"/>
											<field name="idpenjualanpo" attrs="{'invisible':True}"/>
											<field name="merk"/>
											<field name="namaproduk"/>
											<field name="satuan"/>
											<field name="jumlah"/>
											<field name="teknisi"/>
										</group>
										<group string="Informasi Produk">
											<field name="gudang"/>
											<field name="kadaluarsa"/>
											<field name="lot"/>
										</group>
									</group>
									<notebook>
										<page string="Notes" >
											<field name="notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>		
						<page string="Notes">
							<field name="notes" attrs="{'readonly':[('disetujuigudang','!=',False)]}"/>
						</page>	
					</notebook>
					<group groups="MMR.otoritas" string="Informasi Otoritas">
						<group>
							<field name="dibuat" />
							<field name="create_date" attrs="{'readonly':[('disetujuigudang','!=',False)]}" string="Waktu Pembuatan"/> 
							<field name="diedit" />
						</group>
						<group>
							<field name="disetujui" />
							<field name="disetujuigudang" />
						</group>
					</group>
				</form>
			</field>
		</record>

		<record id="mmr_penjualansj_search" model="ir.ui.view">
			<field name="name">mmr.penjualansj.search</field>
			<field name="model">mmr.penjualansj</field>
			<field name="arch" type="xml">
				<search string="Penjualan PO Detil" version="7.0">
					<field name="statusfaktur"/>
					<field name="idpenjualanpo" string="Nomor PO"/>
					<field name="nomorsj"/>
					<field name="tanggalterbit"/>
					<filter name="filter_by_status_terfaktur" string="Terfaktur" help="Filter SJ yang lengkap difaktur" domain="[('statusfaktur', '=', 'Terfaktur')]"/>
					<filter name="filter_by_status_belum_terfaktur" string="Belum Terfaktur" help="Filter SJ yang belum lengkap difaktur" domain="[('statusfaktur', '=', 'Belum Terfaktur')]"/>
					<filter name="filter_by_status_tidak_faktur" string="Tidak Perlu Faktur" help="Filter SJ yang tidak perlu difaktur" domain="[('statusfaktur', '=', 'Tidak Perlu Faktur')]"/>
					<separator/>
					<filter name="filter_by_belum_disetujui" string="Belum Disetujui" help="Filter SJ yang telah belum disetujui" domain="[('disetujui', '=', False)]"/>
					<filter name="filter_by_telah_disetujui" string="Telah Disetujui" help="Filter SJ yang telah telah disetujui" domain="[('disetujui', '!=', False)]"/>
					<group expand="1" string="Group By">
						<filter name="group_by_status" string="Status" help="Group By Status" context="{'group_by':'statusfaktur'}"/>
						<filter name="group_by_tanggal_terbit" string="Tanggal Terbit" help="Group By Tanggal Terbit" context="{'group_by':'tanggalterbit'}"/>
						<filter name="group_by_idpenjualanpo" string="PO Penjualan" help="Group By PO Penjualan" context="{'group_by':'idpenjualanpo'}"/>
						<filter name="group_by_disetujui" string="Disetujui" help="Group By Disetujui" context="{'group_by':'disetujui'}"/>
					</group>
				</search>
			</field>
		</record>

		-----------PenjualanSJDetil----------
		<record id="mmr_penjualansjdetil_list" model="ir.ui.view">
			<field name="name">mmr.penjualansjdetil.list</field>
			<field name="model">mmr.penjualansjdetil</field>
			<field name="arch" type="xml">
				<tree string="Penjualan SJ Detil" version="7.0">
					<field name="merk" />
					<field name="namaproduk" />
					<field name="satuan" />
					<field name="jumlah" />
					<field name="notes" />
					<field name="pilihanproduk" attrs="{'invisible':True}" string=""/>
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualansjdetil_form" model="ir.ui.view">
			<field name="name">mmr.penjualansjdetil.form</field>
			<field name="model">mmr.penjualansjdetil</field>
			<field name="arch" type="xml">
				<form string="Penjualan SJ Detil" version="7.0" >
					<group>
						<group string="Informasi Dasar">
							<field name="idpenjualanpo" attrs="{'invisible':True}"/>
							<field name="idpenjualansj" attrs="{'invisible':True}"/>
							<field name="pilihanproduk" options="{'no_create': True, 'no_open':True}"/>
							<field name="jumlah" />
						</group>
						<group string="Informasi Produk">
							<field name="merk" />
							<field name="namaproduk" />
							<field name="satuan" />
						</group>
					</group>
					<notebook>
						<page string="Notes">
							<field name="notes"/>
						</page>	
					</notebook>
				</form>
			</field>
		</record>
		
		-----------PenjualanFaktur----------
		<record id="mmr_penjualanfaktur_list" model="ir.ui.view">
			<field name="name">mmr.penjualanfaktur.list</field>
			<field name="model">mmr.penjualanfaktur</field>
			<field name="arch" type="xml">
				<tree string="Penjualan Faktur" version="7.0">
					<field name="status" />
					<field name="nomorfaktur" />
					<field name="tanggalterbit" />
					<field name="jatuhtempo" />
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualanfaktur_form" model="ir.ui.view">
			<field name="name">mmr.penjualanfaktur.form</field>
			<field name="model">mmr.penjualanfaktur</field>
			<field name="arch" type="xml">
				<form string="Penjualan Faktur" version="7.0" >
					<header class="oe_read_only">
						<button name="setuju" class="oe_highlight oe_read_only" string="Setuju" type="object" groups="MMR.kepalaakunting" attrs="{'invisible':[('disetujui','!=',False)]}"/>
						<button name="revisi" class="oe_highlight oe_read_only" string="Revisi" type="object" groups="MMR.otoritas" attrs="{'invisible':[('disetujui','=',False)]}"/>
						<button name="%(faktur_penjualan_qweb_report)d" string="Print" type="action" class="oe_read_only"/>
					</header>
					<footer attrs="{'invisible':[('id','!=',False)]}">
						<button name="save" string="Save" type="object" /> or <button name="cancel" string="Cancel" special="cancel" class="oe_link"/>
					</footer>
					<group>
						<group string="Informasi Dasar">
							<field name="lunas" attrs="{'invisible':True}"/>
							<field name="id" attrs="{'invisible':True}"/>
							<field name="idpenjualanpo" attrs="{'invisible':True}"/>
							<field name="namamodel" attrs="{'invisible':True}"/>
							<field name="customer"  attrs="{'invisible':True}"/>
							<field name="trigger"  attrs="{'invisible':True}"/>
							<field name="waktu" attrs="{'readonly':[('disetujui','!=',False)],'invisible':True}"/>
							<field name="nomorfaktur"/>
							<field name="nofakturpajak" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="penjualansj" on_change="onchange_sj(penjualansj)" options="{'no_create': True, 'no_open':True}" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="tanggalterbit" on_change="onchange_tanggalterbit(idpenjualanpo,tanggalterbit)" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="jatuhtempo" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="teknisi" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="totalbayar"/>
							<field name="status" />
						</group>
						<group string="Informasi Akunting">
							<field name="bruto" />
							<field name="diskon"/>
							<field name="hppembelian"/>
							<field name="pajak" />
							<field name="netto" />
							<field name="total_terbilang" invisible="1"/>
							<field name="aturanakun" options="{'no_create': True, 'no_open':True}" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="akunotomatis" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="setlunas" attrs="{'readonly':[('disetujui','!=',False)]}"/>
						</group>
					</group>
					<notebook>
						<page string="List Produk">
							<field name="penjualanfakturdetil">
								<tree >
									<field name="teknisi" />
									<field name="merk" />
									<field name="namaproduk" />
									<field name="satuan"/>
									<field name="jumlah"/>
									<field name="harga"/>
									<field name="bruto"/>
									<field name="diskon"/>
									<field name="hppembelian"/>
									<field name="pajak"/>
									<field name="netto"/>
									<field name="notes"/>
								</tree>
								<form string="List Barang" version="7.0">
									<group>
										<group string="Informasi Barang">
											<field name="idpenjualansj" attrs="{'invisible':True}"/>
											<field name="gudang" attrs="{'invisible':True}"/>
											<field name="idpenjualanpo" attrs="{'invisible':True}"/>
											<field name="teknisi" />
											<field name="pilihanproduk" options="{'no_create': True, 'no_open':True}" attrs="{'invisible':True}"/>
											<field name="merk" />
											<field name="namaproduk" />
											<field name="satuan" />
											<field name="kadaluarsa"/>
											<field name="lot"/>
										</group>
										<group string="Informasi Saldo">
											<field name="jumlah" />
											<field name="harga"/>
											<field name="bruto"/>
											<field name="diskon"/>
											<field name="hppembelian"/>
											<field name="pajak"/>
											<field name="netto"/>
										</group>
									</group>
									<notebook>
										<page string="Notes">
											<field name="notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>	
						<page string="Cetak Faktur">
							<field name="cetakfaktur">
							</field>
						</page>	
						<page string="Jurnal" >
							<field name="akunterkena" attrs="{'readonly':[('disetujui','!=',False)]}">
								<tree >
									<field name="idakun" />
									<field name="debit" />
									<field name="kredit"/>
									<field name="notes"/>
								</tree>
								<form string="Akun Detil" version="7.0">
									<group>
										<group string ="Informasi Dasar">
											<field name="idakun" string = "Nama Akun" options="{'no_create': True, 'no_open':True}"/>
											<field name="debit" string = "Debit"/>
											<field name="kredit" string = "Kredit"/>
										</group>
										<group string ="Ubah Manual" class="oe_edit_only">
											<field name="isidebit" class="oe_edit_only"/>
											<field name="isikredit" class="oe_edit_only"/>
										</group>
									</group>
									<notebook>
										<page string="Notes">
											<field name="notes" string = "Notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>	
						<page string="List Pembayaran">
							<field name="listpembayaran" attrs="{'readonly':True}">
								<tree >
									<field name="tanggal"/>
									<field name="bayar"/>
									<field name="notes"/>
								</tree>
								<form string="Pembayaran Detil" version="7.0">
									<group string="Informasi Dasar" >
										<field name="idpembayaranpenjualan"/>
										<field name="tanggal"/>
										<field name="bayar"/>
										<field name="notes"/>
									</group>
								</form>
							</field>	
						</page>	
						<page string="Notes">
							<field name="notes" attrs="{'readonly':[('disetujui','!=',False)]}"/>
						</page>	
					</notebook>
					<group groups="MMR.otoritas" string="Informasi Otoritas">
						<group>
							<field name="dibuat"/>
							<field name="create_date" attrs="{'readonly':[('disetujui','!=',False)]}" string="Waktu Pembuatan"/> 
							<field name="diedit"/>
						</group>
						<group>
							<field name="disetujui"/>
						</group>
					</group>
				</form>
			</field>
		</record>

		<record id="mmr_penjualanfaktur_list_no_edit" model="ir.ui.view">
			<field name="name">mmr.penjualanfaktur.list.no.edit</field>
			<field name="model">mmr.penjualanfaktur</field>
			<field name="arch" type="xml">
				<tree string="Penjualan Faktur" version="7.0" create="false" edit="false">
					<field name="status" />
					<field name="idpenjualanpo" string="Nomor PO"/>
					<field name="nomorfaktur" />
					<field name="tanggalterbit" />
					<field name="jatuhtempo" />
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualanfaktur_form_no_edit" model="ir.ui.view">
			<field name="name">mmr.penjualanfaktur.form.no.edit</field>
			<field name="model">mmr.penjualanfaktur</field>
			<field name="arch" type="xml">
				<form string="Penjualan Faktur" version="7.0" create="false" edit="false" >
					<group>
						<group string="Informasi Dasar">
							<field name="lunas" attrs="{'invisible':True}"/>
							<field name="id" attrs="{'invisible':True}"/>
							<field name="idpenjualanpo" string="Nomor PO"/>
							<field name="namamodel" attrs="{'invisible':True}"/>
							<field name="customer"  attrs="{'invisible':True}"/>
							<field name="trigger"  attrs="{'invisible':True}"/>
							<field name="waktu" attrs="{'readonly':[('disetujui','!=',False)],'invisible':True}"/>
							<field name="nomorfaktur"/>
							<field name="nofakturpajak" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="penjualansj" on_change="onchange_sj(penjualansj)" options="{'no_create': True, 'no_open':True}" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="tanggalterbit" on_change="onchange_tanggalterbit(idpenjualanpo,tanggalterbit)" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="jatuhtempo" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="teknisi" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="totalbayar"/>
							<field name="status" />
						</group>
						<group string="Informasi Akunting">
							<field name="bruto" />
							<field name="diskon"/>
							<field name="hppembelian"/>
							<field name="pajak" />
							<field name="netto" />
							<field name="aturanakun" options="{'no_create': True, 'no_open':True}" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="akunotomatis" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							<field name="setlunas" attrs="{'readonly':[('disetujui','!=',False)]}"/>
						</group>
					</group>
					<notebook>
						<page string="List Produk">
							<field name="penjualanfakturdetil">
								<tree >
									<field name="teknisi" />
									<field name="merk" />
									<field name="namaproduk" />
									<field name="satuan"/>
									<field name="jumlah"/>
									<field name="harga"/>
									<field name="bruto"/>
									<field name="diskon"/>
									<field name="hppembelian"/>
									<field name="pajak"/>
									<field name="netto"/>
									<field name="notes"/>
								</tree>
								<form string="List Barang" version="7.0">
									<group>
										<group string="Informasi Barang">
											<field name="idpenjualansj" attrs="{'invisible':True}"/>
											<field name="gudang" attrs="{'invisible':True}"/>
											<field name="idpenjualanpo" attrs="{'invisible':True}"/>
											<field name="teknisi" />
											<field name="pilihanproduk" options="{'no_create': True, 'no_open':True}" attrs="{'invisible':True}"/>
											<field name="merk" />
											<field name="namaproduk" />
											<field name="satuan" />
											<field name="kadaluarsa"/>
											<field name="lot"/>
										</group>
										<group string="Informasi Saldo">
											<field name="jumlah" />
											<field name="harga"/>
											<field name="bruto"/>
											<field name="diskon"/>
											<field name="hppembelian"/>
											<field name="pajak"/>
											<field name="netto"/>
										</group>
									</group>
									<notebook>
										<page string="Notes">
											<field name="notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>	
						<page string="Cetak Faktur">
							<field name="cetakfaktur">
							</field>
						</page>	
						<page string="Jurnal" >
							<field name="akunterkena" attrs="{'readonly':[('disetujui','!=',False)]}">
								<tree >
									<field name="idakun" />
									<field name="debit" />
									<field name="kredit"/>
									<field name="notes"/>
								</tree>
								<form string="Akun Detil" version="7.0">
									<group>
										<group string ="Informasi Dasar">
											<field name="idakun" string = "Nama Akun" options="{'no_create': True, 'no_open':True}"/>
											<field name="debit" string = "Debit"/>
											<field name="kredit" string = "Kredit"/>
										</group>
										<group string ="Ubah Manual" class="oe_edit_only">
											<field name="isidebit" class="oe_edit_only"/>
											<field name="isikredit" class="oe_edit_only"/>
										</group>
									</group>
									<notebook>
										<page string="Notes">
											<field name="notes" string = "Notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>	
						<page string="List Pembayaran">
							<field name="listpembayaran" attrs="{'readonly':True}">
								<tree >
									<field name="tanggal"/>
									<field name="bayar"/>
									<field name="notes"/>
								</tree>
								<form string="Pembayaran Detil" version="7.0">
									<group string="Informasi Dasar" >
										<field name="idpembayaranpenjualan"/>
										<field name="tanggal"/>
										<field name="bayar"/>
										<field name="notes"/>
									</group>
								</form>
							</field>	
						</page>	
						<page string="Notes">
							<field name="notes" attrs="{'readonly':[('disetujui','!=',False)]}"/>
						</page>	
					</notebook>
					<group groups="MMR.otoritas" string="Informasi Otoritas">
						<group>
							<field name="dibuat"/>
							<field name="create_date" attrs="{'readonly':[('disetujui','!=',False)]}" string="Waktu Pembuatan"/> 
							<field name="diedit"/>
						</group>
						<group>
							<field name="disetujui"/>
						</group>
					</group>
				</form>
			</field>
		</record>
		
		-----------PenjualanRetur----------
		<record id="mmr_penjualanretur_list" model="ir.ui.view">
			<field name="name">mmr.penjualanretur.list</field>
			<field name="model">mmr.penjualanretur</field>
			<field name="arch" type="xml">
				<tree string="Penjualan Retur" version="7.0">
					<field name="status" />
					<field name="teknisi" />
					<field name="jurnalretur" />
					<field name="jurnalpembayaranretur" />
					<field name="nomorretur" />
					<field name="tanggalterbit" />
					<field name="idpopenjualan" />
					<field name="idpopembelian" />
					<field name="disetujui" />
					<field name="notes" />
				</tree>
			</field>
		</record>
		
		<record id="mmr_penjualanretur_form" model="ir.ui.view">
			<field name="name">mmr.penjualanretur.form</field>
			<field name="model">mmr.penjualanretur</field>
			<field name="arch" type="xml">
				<form string="Penjualan Retur" version="7.0" >
					<header class="oe_read_only">
						<button name="setuju" class="oe_highlight" string="Setuju" type="object" groups="MMR.otoritas" attrs="{'invisible':[('disetujui','!=',False)]}"/>
						<button name="revisi" class="oe_highlight" string="Revisi" type="object" groups="MMR.otoritas" attrs="{'invisible':[('disetujui','=',False)]}"/>
					</header>
					<group>
						<group>
							<group string="Informasi Dasar">
								<field name="lunas" attrs="{'invisible':True}"/>
								<field name="id" attrs="{'invisible':True}"/>
								<field name="trigger" attrs="{'invisible':True}"/>
								<field name="nomorretur" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="nomorfakturretur" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="nomorfakturreturpajak" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="tanggalterbit" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="teknisi" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="status" />
							</group>
							<group string="Sumber PO">
								<field name="idpopenjualan" attrs="{'readonly':[('disetujui','!=',False)]}" options="{'no_create': True, 'no_open':True}"/>
								<field name="idpopembelian" attrs="{'readonly':[('disetujui','!=',False)]}" options="{'no_create': True, 'no_open':True}"/>
								<field name="idpembeliansj" attrs="{'readonly':[('disetujui','!=',False)]}" options="{'no_create': True, 'no_open':True}"/>
							</group>
						</group>
						<group>
							<group string="Informasi Akunting">
								<field name="bruto" />
								<field name="diskon"/>
								<field name="hppembelian"/>
								<field name="pajak" />
								<field name="netto" />
								
							</group>
							<group string="Informasi Jurnal dan Pembayaran">
								<field name="dibayar" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="jurnalretur" attrs="{'readonly':[('disetujui','!=',False)]}"/>
								<field name="jurnalpembayaranretur" attrs="{'readonly':[('disetujui','!=',False)]}"/>
							</group>
						</group>
					</group>
					<notebook>
						<page string="List Produk">
							<field name="penjualanreturdetil" attrs="{'readonly':[('disetujui','!=',False)]}">
								<tree >
									<field name="merk" />
									<field name="namaproduk" />
									<field name="satuan"/>
									<field name="jumlah"/>
									<field name="harga"/>
									<field name="bruto"/>
									<field name="diskon"/>
									<field name="hppembelian"/>
									<field name="pajak"/>
									<field name="netto"/>
									<field name="notes"/>
								</tree>
								<form string="List Barang" version="7.0">
									<group>
										<group string="Informasi Barang">
											<field name="idpenjualanretur" attrs="{'invisible':True}"/>
											<field name="merk" />
											<field name="namaproduk" />
											<field name="satuan" />
										</group>
										<group string="Informasi Saldo">
											<field name="jumlah" />
											<field name="harga" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
											<field name="bruto" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>					
											<field name="diskon" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
											<field name="hppembelian" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
											<field name="pajak" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
											<field name="netto" on_change="onchange_harga(jumlah,harga,diskon,pajak)"/>
										</group>
									</group>
									<notebook>
										<page string="Notes">
											<field name="notes"/>
										</page>	
									</notebook>
								</form>
							</field>
						</page>	
						<page string="Notes">
							<field name="notes" attrs="{'readonly':[('disetujui','!=',False)]}"/>
						</page>	
					</notebook>
					<group groups="MMR.otoritas" string="Informasi Otoritas">
						<group>
							<field name="create_uid" string="Dibuat"/>
							<field name="create_date" attrs="{'readonly':[('disetujui','!=',False)]}" string="Waktu Pembuatan"/> 
							<field name="write_uid" string="Diedit"/>
						</group>
						<group>
							<field name="disetujui"/>
						</group>
					</group>
				</form>
			</field>
		</record>
		
	</data>
</openerp>